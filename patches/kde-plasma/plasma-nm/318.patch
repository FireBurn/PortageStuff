From 5a6fb31c0fd322d4706b55bfc39e02765da77ef1 Mon Sep 17 00:00:00 2001
From: Prajna Sariputra <putr4.s@gmail.com>
Date: Thu, 21 Dec 2023 10:54:09 +0000
Subject: [PATCH 1/3] Port to KUrlRequester::nameFilters

---
 libs/editor/settings/ui/802-1x.ui | 51 ++++++++++++++++-----
 vpn/l2tp/l2tp.ui                  | 30 ++++++++++---
 vpn/l2tp/l2tpipsec.ui             | 30 ++++++++++---
 vpn/openvpn/openvpn.ui            | 75 ++++++++++++++++++++++++-------
 vpn/vpnc/vpnc.ui                  |  8 +++-
 5 files changed, 152 insertions(+), 42 deletions(-)

diff --git a/libs/editor/settings/ui/802-1x.ui b/libs/editor/settings/ui/802-1x.ui
index 032afa68b..c1b3d14a2 100644
--- a/libs/editor/settings/ui/802-1x.ui
+++ b/libs/editor/settings/ui/802-1x.ui
@@ -146,8 +146,13 @@
        </item>
        <item row="2" column="1">
         <widget class="KUrlRequester" name="tlsUserCert">
-         <property name="filter">
-          <string notr="true">*.der *.pem *.crt *.cer</string>
+         <property name="nameFilters">
+          <StringList>
+           <string notr="true">*.der</string>
+           <string notr="true">*.pem</string>
+           <string notr="true">*.crt</string>
+           <string notr="true">*.cer</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -163,8 +168,13 @@
        </item>
        <item row="3" column="1">
         <widget class="KUrlRequester" name="tlsCACert">
-         <property name="filter">
-          <string notr="true">*.der *.pem *.crt *.cer</string>
+         <property name="nameFilters">
+          <StringList>
+           <string notr="true">*.der</string>
+           <string notr="true">*.pem</string>
+           <string notr="true">*.crt</string>
+           <string notr="true">*.cer</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -245,8 +255,13 @@
        </item>
        <item row="7" column="1">
         <widget class="KUrlRequester" name="tlsPrivateKey">
-         <property name="filter">
-          <string notr="true">*.der *.pem *.p12 *.key</string>
+         <property name="nameFilters">
+          <StringList>
+           <string notr="true">*.der</string>
+           <string notr="true">*.pem</string>
+           <string notr="true">*.p12</string>
+           <string notr="true">*.key</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -399,8 +414,10 @@
        </item>
        <item row="2" column="1">
         <widget class="KUrlRequester" name="pacFile">
-         <property name="filter">
-          <string notr="true">*.pac</string>
+         <property name="nameFilters">
+          <StringList>
+           <string notr="true">*.pac</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -493,8 +510,13 @@
        </item>
        <item row="3" column="1">
         <widget class="KUrlRequester" name="ttlsCACert">
-         <property name="filter">
-          <string notr="true">*.der *.pem *.crt *.cer</string>
+         <property name="nameFilters">
+          <StringList>
+           <string notr="true">*.der</string>
+           <string notr="true">*.pem</string>
+           <string notr="true">*.crt</string>
+           <string notr="true">*.cer</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -607,8 +629,13 @@
        </item>
        <item row="6" column="1">
         <widget class="KUrlRequester" name="peapCACert">
-         <property name="filter">
-          <string notr="true">*.der *.pem *.crt *.cer</string>
+         <property name="nameFilters">
+          <StringList>
+           <string notr="true">*.der</string>
+           <string notr="true">*.pem</string>
+           <string notr="true">*.crt</string>
+           <string notr="true">*.cer</string>
+          </StringList>
          </property>
         </widget>
        </item>
diff --git a/vpn/l2tp/l2tp.ui b/vpn/l2tp/l2tp.ui
index 6ac710e50..d6dbe3e20 100644
--- a/vpn/l2tp/l2tp.ui
+++ b/vpn/l2tp/l2tp.ui
@@ -186,8 +186,14 @@
          <property name="toolTip">
           <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Certificate authority (CA) file in .pem, .der, .crt, .cer or .p12 formats.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.der *.crt *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.der</string>
+           <string>*.crt</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -209,8 +215,14 @@
          <property name="toolTip">
           <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Certificate in .pem, .der, .crt, .cer or .p12 formats.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.der *.crt *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.der</string>
+           <string>*.crt</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -232,8 +244,14 @@
          <property name="toolTip">
           <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Private key in .pem, .der, .key, .pk8 or .p12 formats.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
          </property>
-         <property name="filter">
-          <string>*.pem *der *.key *.pk8 *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.der</string>
+           <string>*.key</string>
+           <string>*.pk8</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
diff --git a/vpn/l2tp/l2tpipsec.ui b/vpn/l2tp/l2tpipsec.ui
index 0096ca321..8effcbc97 100644
--- a/vpn/l2tp/l2tpipsec.ui
+++ b/vpn/l2tp/l2tpipsec.ui
@@ -118,8 +118,14 @@
                <property name="toolTip">
                 <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Certificate authority (CA) file in .pem, .der, .crt, .cer or .p12 formats.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
                </property>
-               <property name="filter">
-                <string>*.pem *.der *.crt *.cer *.p12</string>
+               <property name="nameFilters">
+                <StringList>
+                 <string>*.pem</string>
+                 <string>*.der</string>
+                 <string>*.crt</string>
+                 <string>*.cer</string>
+                 <string>*.p12</string>
+                </StringList>
                </property>
               </widget>
              </item>
@@ -141,8 +147,14 @@
                <property name="toolTip">
                 <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Certificate in .pem, .der or .p12 formats.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
                </property>
-               <property name="filter">
-                <string>*.pem *.der *.crt *.cer *.p12</string>
+               <property name="nameFilters">
+                <StringList>
+                 <string>*.pem</string>
+                 <string>*.der</string>
+                 <string>*.crt</string>
+                 <string>*.cer</string>
+                 <string>*.p12</string>
+                </StringList>
                </property>
               </widget>
              </item>
@@ -164,8 +176,14 @@
                <property name="toolTip">
                 <string>&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;Private key in .pem, .der, .key, .pk8 or .p12 formats.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>
                </property>
-               <property name="filter">
-                <string>*.pem *der *.key *.pk8 *.p12</string>
+               <property name="nameFilters">
+                <StringList>
+                 <string>*.pem</string>
+                 <string>*.der</string>
+                 <string>*.key</string>
+                 <string>*.pk8</string>
+                 <string>*.p12</string>
+                </StringList>
                </property>
               </widget>
              </item>
diff --git a/vpn/openvpn/openvpn.ui b/vpn/openvpn/openvpn.ui
index b740f991c..40b662ed2 100644
--- a/vpn/openvpn/openvpn.ui
+++ b/vpn/openvpn/openvpn.ui
@@ -116,8 +116,14 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Certificate authority (CA) file in .pem format.</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -139,8 +145,14 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Local peer's signed certificate in .pem format (signed by CA of CA Certificate).</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -162,8 +174,14 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Local peer's private key in .pem format.</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -223,8 +241,10 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Pre-shared file for Static Key encryption mode (non-TLS).</string>
          </property>
-         <property name="filter">
-          <string>*.key</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.key</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -377,8 +397,13 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Certificate authority (CA) file in .pem format.</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -470,8 +495,14 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Certificate authority (CA) file in .pem format.</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -493,8 +524,14 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Local peer's signed certificate in .pem format (signed by CA of CA Certificate).</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
@@ -516,8 +553,14 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          <property name="toolTip">
           <string>Local peer's private key in .pem format.</string>
          </property>
-         <property name="filter">
-          <string>*.pem *.crt *.key *.cer *.p12</string>
+         <property name="nameFilters">
+          <StringList>
+           <string>*.pem</string>
+           <string>*.crt</string>
+           <string>*.key</string>
+           <string>*.cer</string>
+           <string>*.p12</string>
+          </StringList>
          </property>
         </widget>
        </item>
diff --git a/vpn/vpnc/vpnc.ui b/vpn/vpnc/vpnc.ui
index 80fe0f0f2..49622acdf 100644
--- a/vpn/vpnc/vpnc.ui
+++ b/vpn/vpnc/vpnc.ui
@@ -166,8 +166,12 @@
      <property name="toolTip">
       <string>CA certificate in PEM format.</string>
      </property>
-     <property name="filter">
-      <string>*.pem *.crt *.cer</string>
+     <property name="nameFilters">
+      <StringList>
+       <string>*.pem</string>
+       <string>*.crt</string>
+       <string>*.cer</string>
+      </StringList>
      </property>
     </widget>
    </item>
-- 
GitLab


From 59ea9fcd0566294c1e696565eb87cc57f304352a Mon Sep 17 00:00:00 2001
From: Prajna Sariputra <putr4.s@gmail.com>
Date: Thu, 21 Dec 2023 12:14:25 +0000
Subject: [PATCH 2/3] Fix the filter format

---
 libs/editor/settings/ui/802-1x.ui | 42 +++++++++----------
 vpn/l2tp/l2tp.ui                  | 30 ++++++-------
 vpn/l2tp/l2tpipsec.ui             | 30 ++++++-------
 vpn/openvpn/openvpn.ui            | 70 +++++++++++++++----------------
 vpn/vpnc/vpnc.ui                  |  6 +--
 5 files changed, 89 insertions(+), 89 deletions(-)

diff --git a/libs/editor/settings/ui/802-1x.ui b/libs/editor/settings/ui/802-1x.ui
index c1b3d14a2..12050b272 100644
--- a/libs/editor/settings/ui/802-1x.ui
+++ b/libs/editor/settings/ui/802-1x.ui
@@ -148,10 +148,10 @@
         <widget class="KUrlRequester" name="tlsUserCert">
          <property name="nameFilters">
           <StringList>
-           <string notr="true">*.der</string>
-           <string notr="true">*.pem</string>
-           <string notr="true">*.crt</string>
-           <string notr="true">*.cer</string>
+           <string>.der files (*.der)</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -170,10 +170,10 @@
         <widget class="KUrlRequester" name="tlsCACert">
          <property name="nameFilters">
           <StringList>
-           <string notr="true">*.der</string>
-           <string notr="true">*.pem</string>
-           <string notr="true">*.crt</string>
-           <string notr="true">*.cer</string>
+           <string>.der files (*.der)</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -257,10 +257,10 @@
         <widget class="KUrlRequester" name="tlsPrivateKey">
          <property name="nameFilters">
           <StringList>
-           <string notr="true">*.der</string>
-           <string notr="true">*.pem</string>
-           <string notr="true">*.p12</string>
-           <string notr="true">*.key</string>
+           <string>.der files (*.der)</string>
+           <string>.pem files (*.pem)</string>
+           <string>.p12 files (*.p12)</string>
+           <string>.key files (*.key)</string>
           </StringList>
          </property>
         </widget>
@@ -416,7 +416,7 @@
         <widget class="KUrlRequester" name="pacFile">
          <property name="nameFilters">
           <StringList>
-           <string notr="true">*.pac</string>
+           <string>.pac files (*.pac)</string>
           </StringList>
          </property>
         </widget>
@@ -512,10 +512,10 @@
         <widget class="KUrlRequester" name="ttlsCACert">
          <property name="nameFilters">
           <StringList>
-           <string notr="true">*.der</string>
-           <string notr="true">*.pem</string>
-           <string notr="true">*.crt</string>
-           <string notr="true">*.cer</string>
+           <string>.der files (*.der)</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -631,10 +631,10 @@
         <widget class="KUrlRequester" name="peapCACert">
          <property name="nameFilters">
           <StringList>
-           <string notr="true">*.der</string>
-           <string notr="true">*.pem</string>
-           <string notr="true">*.crt</string>
-           <string notr="true">*.cer</string>
+           <string>.der files (*.der)</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
           </StringList>
          </property>
         </widget>
diff --git a/vpn/l2tp/l2tp.ui b/vpn/l2tp/l2tp.ui
index d6dbe3e20..ef2f5c7ea 100644
--- a/vpn/l2tp/l2tp.ui
+++ b/vpn/l2tp/l2tp.ui
@@ -188,11 +188,11 @@
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.der</string>
-           <string>*.crt</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.der files (*.der)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -217,11 +217,11 @@
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.der</string>
-           <string>*.crt</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.der files (*.der)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -246,11 +246,11 @@
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.der</string>
-           <string>*.key</string>
-           <string>*.pk8</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.der files (*.der)</string>
+           <string>.key files (*.key)</string>
+           <string>.pk8 files (*.pk8)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
diff --git a/vpn/l2tp/l2tpipsec.ui b/vpn/l2tp/l2tpipsec.ui
index 8effcbc97..0e22eb11a 100644
--- a/vpn/l2tp/l2tpipsec.ui
+++ b/vpn/l2tp/l2tpipsec.ui
@@ -120,11 +120,11 @@
                </property>
                <property name="nameFilters">
                 <StringList>
-                 <string>*.pem</string>
-                 <string>*.der</string>
-                 <string>*.crt</string>
-                 <string>*.cer</string>
-                 <string>*.p12</string>
+                 <string>.pem files (*.pem)</string>
+                 <string>.der files (*.der)</string>
+                 <string>.crt files (*.crt)</string>
+                 <string>.cer files (*.cer)</string>
+                 <string>.p12 files (*.p12)</string>
                 </StringList>
                </property>
               </widget>
@@ -149,11 +149,11 @@
                </property>
                <property name="nameFilters">
                 <StringList>
-                 <string>*.pem</string>
-                 <string>*.der</string>
-                 <string>*.crt</string>
-                 <string>*.cer</string>
-                 <string>*.p12</string>
+                 <string>.pem files (*.pem)</string>
+                 <string>.der files (*.der)</string>
+                 <string>.crt files (*.crt)</string>
+                 <string>.cer files (*.cer)</string>
+                 <string>.p12 files (*.p12)</string>
                 </StringList>
                </property>
               </widget>
@@ -178,11 +178,11 @@
                </property>
                <property name="nameFilters">
                 <StringList>
-                 <string>*.pem</string>
-                 <string>*.der</string>
-                 <string>*.key</string>
-                 <string>*.pk8</string>
-                 <string>*.p12</string>
+                 <string>.pem files (*.pem)</string>
+                 <string>.der files (*.der)</string>
+                 <string>.key files (*.key)</string>
+                 <string>.pk8 files (*.pk8)</string>
+                 <string>.p12 files (*.p12)</string>
                 </StringList>
                </property>
               </widget>
diff --git a/vpn/openvpn/openvpn.ui b/vpn/openvpn/openvpn.ui
index 40b662ed2..6d4083224 100644
--- a/vpn/openvpn/openvpn.ui
+++ b/vpn/openvpn/openvpn.ui
@@ -118,11 +118,11 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -147,11 +147,11 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -176,11 +176,11 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -243,7 +243,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.key</string>
+           <string>.key files (*.key)</string>
           </StringList>
          </property>
         </widget>
@@ -399,10 +399,10 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -497,11 +497,11 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -526,11 +526,11 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -555,11 +555,11 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>*.pem</string>
-           <string>*.crt</string>
-           <string>*.key</string>
-           <string>*.cer</string>
-           <string>*.p12</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.key files (*.key)</string>
+           <string>.cer files (*.cer)</string>
+           <string>.p12 files (*.p12)</string>
           </StringList>
          </property>
         </widget>
diff --git a/vpn/vpnc/vpnc.ui b/vpn/vpnc/vpnc.ui
index 49622acdf..5e34b06d9 100644
--- a/vpn/vpnc/vpnc.ui
+++ b/vpn/vpnc/vpnc.ui
@@ -168,9 +168,9 @@
      </property>
      <property name="nameFilters">
       <StringList>
-       <string>*.pem</string>
-       <string>*.crt</string>
-       <string>*.cer</string>
+           <string>.pem files (*.pem)</string>
+           <string>.crt files (*.crt)</string>
+           <string>.cer files (*.cer)</string>
       </StringList>
      </property>
     </widget>
-- 
GitLab


From 5bede0d9db255a13dd11ba1071e0d53fa486ac7a Mon Sep 17 00:00:00 2001
From: Prajna Sariputra <putr4.s@gmail.com>
Date: Thu, 21 Dec 2023 12:48:56 +0000
Subject: [PATCH 3/3] Use one filter with multiple extensions

---
 libs/editor/settings/ui/802-1x.ui | 27 +++++--------------
 vpn/l2tp/l2tp.ui                  | 18 +++----------
 vpn/l2tp/l2tpipsec.ui             | 18 +++----------
 vpn/openvpn/openvpn.ui            | 43 ++++++-------------------------
 vpn/vpnc/vpnc.ui                  |  4 +--
 5 files changed, 21 insertions(+), 89 deletions(-)

diff --git a/libs/editor/settings/ui/802-1x.ui b/libs/editor/settings/ui/802-1x.ui
index 12050b272..218eb7bce 100644
--- a/libs/editor/settings/ui/802-1x.ui
+++ b/libs/editor/settings/ui/802-1x.ui
@@ -148,10 +148,7 @@
         <widget class="KUrlRequester" name="tlsUserCert">
          <property name="nameFilters">
           <StringList>
-           <string>.der files (*.der)</string>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
+           <string>Certificate files (*.der *.pem *.crt *.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -170,10 +167,7 @@
         <widget class="KUrlRequester" name="tlsCACert">
          <property name="nameFilters">
           <StringList>
-           <string>.der files (*.der)</string>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
+           <string>Certificate files (*.der *.pem *.crt *.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -257,10 +251,7 @@
         <widget class="KUrlRequester" name="tlsPrivateKey">
          <property name="nameFilters">
           <StringList>
-           <string>.der files (*.der)</string>
-           <string>.pem files (*.pem)</string>
-           <string>.p12 files (*.p12)</string>
-           <string>.key files (*.key)</string>
+           <string>Key files (*.der *.pem *.p12 *.key)</string>
           </StringList>
          </property>
         </widget>
@@ -416,7 +407,7 @@
         <widget class="KUrlRequester" name="pacFile">
          <property name="nameFilters">
           <StringList>
-           <string>.pac files (*.pac)</string>
+           <string>PAC files (*.pac)</string>
           </StringList>
          </property>
         </widget>
@@ -512,10 +503,7 @@
         <widget class="KUrlRequester" name="ttlsCACert">
          <property name="nameFilters">
           <StringList>
-           <string>.der files (*.der)</string>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
+           <string>Certificate files (*.der *.pem *.crt *.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -631,10 +619,7 @@
         <widget class="KUrlRequester" name="peapCACert">
          <property name="nameFilters">
           <StringList>
-           <string>.der files (*.der)</string>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
+           <string>Certificate files (*.der *.pem *.crt *.cer)</string>
           </StringList>
          </property>
         </widget>
diff --git a/vpn/l2tp/l2tp.ui b/vpn/l2tp/l2tp.ui
index ef2f5c7ea..08ca7d36d 100644
--- a/vpn/l2tp/l2tp.ui
+++ b/vpn/l2tp/l2tp.ui
@@ -188,11 +188,7 @@
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.der files (*.der)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.der *.crt *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -217,11 +213,7 @@
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.der files (*.der)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.der *.crt *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -246,11 +238,7 @@
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.der files (*.der)</string>
-           <string>.key files (*.key)</string>
-           <string>.pk8 files (*.pk8)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Key files (*.pem *.der *.key *.pk8 *.p12)</string>
           </StringList>
          </property>
         </widget>
diff --git a/vpn/l2tp/l2tpipsec.ui b/vpn/l2tp/l2tpipsec.ui
index 0e22eb11a..98cfe8a91 100644
--- a/vpn/l2tp/l2tpipsec.ui
+++ b/vpn/l2tp/l2tpipsec.ui
@@ -120,11 +120,7 @@
                </property>
                <property name="nameFilters">
                 <StringList>
-                 <string>.pem files (*.pem)</string>
-                 <string>.der files (*.der)</string>
-                 <string>.crt files (*.crt)</string>
-                 <string>.cer files (*.cer)</string>
-                 <string>.p12 files (*.p12)</string>
+                 <string>Certificate files (*.pem *.der *.crt *.cer *.p12)</string>
                 </StringList>
                </property>
               </widget>
@@ -149,11 +145,7 @@
                </property>
                <property name="nameFilters">
                 <StringList>
-                 <string>.pem files (*.pem)</string>
-                 <string>.der files (*.der)</string>
-                 <string>.crt files (*.crt)</string>
-                 <string>.cer files (*.cer)</string>
-                 <string>.p12 files (*.p12)</string>
+                 <string>Certificate files (*.pem *.der *.crt *.cer *.p12)</string>
                 </StringList>
                </property>
               </widget>
@@ -178,11 +170,7 @@
                </property>
                <property name="nameFilters">
                 <StringList>
-                 <string>.pem files (*.pem)</string>
-                 <string>.der files (*.der)</string>
-                 <string>.key files (*.key)</string>
-                 <string>.pk8 files (*.pk8)</string>
-                 <string>.p12 files (*.p12)</string>
+                 <string>Key files (*.pem *.der *.key *.pk8 *.p12)</string>
                 </StringList>
                </property>
               </widget>
diff --git a/vpn/openvpn/openvpn.ui b/vpn/openvpn/openvpn.ui
index 6d4083224..e9e02aff4 100644
--- a/vpn/openvpn/openvpn.ui
+++ b/vpn/openvpn/openvpn.ui
@@ -118,11 +118,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -147,11 +143,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -176,11 +168,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -243,7 +231,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.key files (*.key)</string>
+           <string>Key files (*.key)</string>
           </StringList>
          </property>
         </widget>
@@ -399,10 +387,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer)</string>
           </StringList>
          </property>
         </widget>
@@ -497,11 +482,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -526,11 +507,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
@@ -555,11 +532,7 @@ You can specify multiple hosts for redundancy (use commas or spaces as delimiter
          </property>
          <property name="nameFilters">
           <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.key files (*.key)</string>
-           <string>.cer files (*.cer)</string>
-           <string>.p12 files (*.p12)</string>
+           <string>Certificate files (*.pem *.crt *.key *.cer *.p12)</string>
           </StringList>
          </property>
         </widget>
diff --git a/vpn/vpnc/vpnc.ui b/vpn/vpnc/vpnc.ui
index 5e34b06d9..84b5ee0c4 100644
--- a/vpn/vpnc/vpnc.ui
+++ b/vpn/vpnc/vpnc.ui
@@ -168,9 +168,7 @@
      </property>
      <property name="nameFilters">
       <StringList>
-           <string>.pem files (*.pem)</string>
-           <string>.crt files (*.crt)</string>
-           <string>.cer files (*.cer)</string>
+       <string>Certificate files (*.pem *.crt *.cer)</string>
       </StringList>
      </property>
     </widget>
-- 
GitLab

