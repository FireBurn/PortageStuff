From c6eaa171ccca1dde1f5d9c757601880d1316683a Mon Sep 17 00:00:00 2001
From: Mike Lothian <mike@fireburn.co.uk>
Date: Thu, 28 Dec 2023 11:35:28 +0000
Subject: [PATCH 2/2] Add Vulkan-Utility-Libraries dependency

---
 .gitmodules                        | 3 +++
 CMakeLists.txt                     | 1 +
 externals/Vulkan-Utility-Libraries | 1 +
 3 files changed, 5 insertions(+)
 create mode 160000 externals/Vulkan-Utility-Libraries

diff --git a/.gitmodules b/.gitmodules
index e65997afc..52256d86f 100644
--- a/.gitmodules
+++ b/.gitmodules
@@ -64,3 +64,6 @@
 [submodule "oaknut"]
 	path = externals/oaknut
 	url = https://github.com/merryhime/oaknut
+[submodule "Vulkan-Utility-Libraries"]
+	path = externals/Vulkan-Utility-Libraries
+	url = https://github.com/KhronosGroup/Vulkan-Utility-Libraries.git
diff --git a/CMakeLists.txt b/CMakeLists.txt
index 7cd6b2108..725e83a53 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -306,6 +306,7 @@ find_package(zstd 1.5 REQUIRED)
 
 if (NOT YUZU_USE_EXTERNAL_VULKAN_HEADERS)
     find_package(Vulkan 1.3.274 REQUIRED)
+    find_package(Vulkan-Utility-Libraries 1.3.274 REQUIRED)
 endif()
 
 if (ENABLE_LIBUSB)
diff --git a/externals/Vulkan-Utility-Libraries b/externals/Vulkan-Utility-Libraries
new file mode 160000
index 000000000..524f8910d
--- /dev/null
+++ b/externals/Vulkan-Utility-Libraries
@@ -0,0 +1 @@
+Subproject commit 524f8910d0e4a5f2ec5961996b23e5b74b95cb1d
-- 
2.43.0

